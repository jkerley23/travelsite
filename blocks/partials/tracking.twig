{% set params = {dl_custom: {cobrand: 'main'}} %}
{# Use route name in routes.yml to find out the page and set analytics params accordingly #}
{% if req.route == 'home' %}
  {% set params = params|merge({page_type: 'main'}) %}
{% elseif req.route == 'posts'  %}
  {% set params = params|merge({page_type: 'post', post: post, video_presence: ''~article_prop62} ) %}
{% elseif req.route == 'tags' and req.params.tag %}
  {% set params = params|merge({page_type: 'tag', tag: req.params.tag}) %}
{% elseif req.route == 'videos' %}
  {% set params = params|merge({page_type: 'category', category: { name: 'video' }}) %}
{% elseif req.route == 'quests' %}
  {% set params = params|merge({page_type: 'category', category: { name: 'quest' }}) %}
{% elseif req.route == 'contributors' %}
  {% set params = params|merge({page_type: 'writer', page_name: 'writer |' ~contributor.slug,  prop: {'1': 'writer', '2': 'writer'}}) %}
{% elseif req.route == 'searches' %}
  {% set params = params|merge({page_type: 'search', page_name: 'search results', omni_custom: {eVar11: 'sTerms:'~req.get.q }}) %}
{% elseif req.route == 'popular' %}
  {% set params = params|merge({page_type: 'category', category: { name: 'popular' }}) %}
{% else  %}
  {% set params = params|merge({page_type: 'custom'}) %}
{% endif %} 
{{ amp.analytics(params) }}